<div class="container">
  <h1>Sneaker Box <span class="badge bg-primary">SNKRS</span></h1>
  <p *ngIf="readonly"><a (click)="crtForm()" class="btn btn-info">Add To Collection!</a></p>
  <p *ngIf="!readonly"><a (click)="resetForm()" class="btn btn-info">Reset</a></p>
</div>

<div class="container">
  <form [formGroup]="SneakerForm" ng-submit="this[EventValue]()" #form="ngForm">
    <div class="row" *ngIf="!readonly">
      <div class="col-6">
        <div class="input-group mb-3">
          <span class="input-group-text" id="brand_label1">Brand</span>
          <input type="text" class="form-control" formControlName="Brand"
                 placeholder="Brand" aria-label="Brand" aria-describedby="brand_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="model_label1">Model</span>
          <input type="text" class="form-control" formControlName="Model"
                 placeholder="Model" aria-label="Model" aria-describedby="model_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="type_label1">Type</span>
          <input type="text" class="form-control" formControlName="Type"
                 placeholder="Type" aria-label="Type" aria-describedby="type_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="name_label1">Name</span>
          <input type="text" class="form-control" formControlName="Name"
                 placeholder="Name" aria-label="Name" aria-describedby="name_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="colorway1_label1">Colorway1</span>
          <input type="text" class="form-control" formControlName="Colorway1"
                 placeholder="Colorway1" aria-label="Colorway1" aria-describedby="colorway1_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="colorway2_label1">Colorway2</span>
          <input type="text" class="form-control" formControlName="Colorway2"
                 placeholder="Colorway2" aria-label="Colorway2" aria-describedby="colorway2_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="upc_label1">UPC</span>
          <input type="text" class="form-control" formControlName="UPC"
                 placeholder="UPC" aria-label="UPC" aria-describedby="upc_label1">
        </div>
        <input hidden type="text" id="DbImage" formControlName="DbImage" />
        <input hidden type="text" id="DBImageB64" formControlName="DBImageB64" />
        <input hidden type="checkbox" id="imgChanged" formControlName="imgChanged" />
        <div class="input-group mb-3">
          <button *ngIf="EventValue == 'Save'" type="submit" class="btn btn-primary" [disabled]="!SneakerForm.valid">{{EventValue}}</button>
          <button *ngIf="EventValue == 'Update' && !imgChanged" (click)=" Update()" type="submit" class="btn btn-primary" [disabled]="!SneakerForm.valid">Update</button>
          <button *ngIf="EventValue == 'Update' && imgChanged" (click)=" UpdateWimage()" type="submit" class="btn btn-primary" [disabled]="!SneakerForm.valid">Update</button>
        </div>
      </div>
      <div class="col-3">
        <div class="row">
          <img src={{imgData}} class="img-thumbnail">
        </div>
        <div class="row">
          <!-- label class="input-group-text" for="inputGroupFile01">Upload</label -->
          <input type="file" class="form-control" id="file" (change)="setFile($event)" >
        </div> 
      </div>
    </div>

</form>
</div>

<div>
  <form>
    <div class="container-fluid">
      <div class="spinner-grow text-success" role="status" *ngIf="isLoading">
        <span class="visually-hidden">Loading...</span>
      </div>
      <table class="table table-striped table-hover" aria-labelledby="tableLabel">
        <thead>
          <tr>
            <th scope="col">Brand</th>
            <th scope="col">Name</th>
            <th scope="col">Model</th>
            <th scope="col">Color</th>
            <th scope="col">Color</th>
            <th scope="col">Type</th>
            <th scope="col">UPC</th>
            <th scope="col" colspan="2">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let d of snkrList; let i = index"
              data-toggle="collapse" [attr.data-target]="'#img' + i" class="accordion-toggle">
            <td>{{d.brand}}</td>
            <td>{{d.name}}</td>
            <td>{{d.model}}</td>
            <td>{{d.colorway1}}</td>
            <td>{{d.colorway2}}</td>
            <td>{{d.type}}</td>
            <td>{{d.upc}}</td>
            <td><a (click)="EditData(d)" class="btn btn-warning">Edit</a></td>
            <td><a (click)="Delete(d.upc)" class="btn btn-danger">Delete</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </form>
</div>

    <!-- div class="container">
      <button type="button" class="btn btn-primary" (click)="fileInput.click()">Choose File</button>
      <button type="button" (click)="clearImage()" class="btn btn-info" [disabled]="!filename">Reset Image</button>
      <input hidden
             #fileInput
             type="file"
             id="file"
             (change)="setFilename(fileInput.files)" />
      <p class="fw-bold bd-highlight">File: {{ filename }} </p>
      <br />
      <button type="button" class="btn btn-success" (click)="saveImg(fileInput.files)" [disabled]="!filename">Save</button>
      <br />
    </div>
    -->
