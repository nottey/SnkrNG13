<div class="container">
  <h1>Sneaker Box <span class="badge bg-primary">SNKRS</span></h1>
  <h2>Upcoming Sneakers<span class="badge bg-primary">SNKRS</span></h2>
  <p *ngIf="readonly"><a (click)="crtForm()" class="btn btn-info">Add To Upcoming List!</a></p>
  <p *ngIf="!readonly"><a (click)="resetForm()" class="btn btn-info">Reset</a></p>
</div>


<div class="container">
  <form [formGroup]="UpForm2" ng-submit="this[EventValue]()" #form="ngForm">
    <div class="row" *ngIf="!readonly">
      <div class="col-6">
        <div class="input-group mb-3">
          <span class="input-group-text" id="brand_label1">Brand</span>
          <input type="text" class="form-control" formControlName="Brand"
                 placeholder="Brand" aria-label="Brand" aria-describedby="brand_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="name_label1">Name</span>
          <input type="text" class="form-control" formControlName="Name"
                 placeholder="Name" aria-label="Name" aria-describedby="name_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="rdate_label1">Release Date</span>
          <input type="text" class="form-control" formControlName="ReleaseDate"
                 placeholder="Release Date" aria-label="Release Date" aria-describedby="rdate_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="rprice_label1">Retail Price</span>
          <input type="number" class="form-control" formControlName="RetailPrice"
                 placeholder="$Retail" aria-label="$" aria-describedby="rprice_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="raffle_label1">Raffle   </span>
          <input class="form-check-input mt-0" type="checkbox" formControlName="Raffle"
                 placeholder="Raffle" aria-label="Raffle" aria-describedby="raffle_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="link1_label1">Link1</span>
          <input type="text" class="form-control" formControlName="Link1"
                 placeholder="Link1" aria-label="Link1" aria-describedby="link1_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="i_label1">ID</span>
          <input type="text" class="form-control" formControlName="ID"
                 placeholder="ID#" aria-label="ID#" aria-describedby="i_label1">
        </div>   
        <input hidden type="text" id="ImgSrc" formControlName="ImgSrc" />
        <div class="input-group mb-3">
          <button *ngIf="EventValue == 'Update'" (click)=" Update()" type="submit" class="btn btn-primary" [disabled]="!UpcomingForm.valid">Update</button>
          <button *ngIf="EventValue == 'Save'" (click)=" Save()" type="submit" class="btn btn-primary">Save</button>
        </div>
      </div>
      <div class="col-3">
        <div class="row">
          <img src={{imgData}} class="img-thumbnail">
        </div>
        <div class="row"> 
          <input type="file" class="form-control" id="file" (change)="setFile($event)">
        </div>
      </div>
    </div>

  </form>
</div>




<div class="container">
  Form AAAAAA
  <form [formGroup]="UpcomingForm" ng-submit="this[EventValue]()" #form="ngForm">
    <div class="row" *ngIf="!readonly">
      <div class="col-6">
        <div class="input-group mb-3">
          <span class="input-group-text" id="brand_label1">Brand</span>
          <input type="text" class="form-control" formControlName="Brand"
                 placeholder="Brand" aria-label="Brand" aria-describedby="brand_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="name_label1">Name</span>
          <input type="text" class="form-control" formControlName="Name"
                 placeholder="Name" aria-label="Name" aria-describedby="name_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="rdate_label1">Release Date</span>
          <input type="text" class="form-control" formControlName="ReleaseDate"
                 placeholder="Release Date" aria-label="Release Date" aria-describedby="rdate_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="rprice_label1">Retail Price</span>
          <input type="text" class="form-control" formControlName="RetailPrice"
                 placeholder="$Retail" aria-label="$" aria-describedby="rprice_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="raffle_label1">Raffle   </span>
          <input class="form-check-input mt-0" type="checkbox" formControlName="Raffle"
                 placeholder="Raffle" aria-label="Raffle" aria-describedby="raffle_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="link1_label1">Link1</span>
          <input type="text" class="form-control" formControlName="Link1"
                 placeholder="Link1" aria-label="Link1" aria-describedby="link1_label1">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="i_label1">ID</span>
          <input type="text" class="form-control" formControlName="PostID"
                 placeholder="ID#" aria-label="ID#" aria-describedby="i_label1">
        </div>
        <input hidden type="text" id="DbImage" formControlName="DbImage" />
        <input hidden type="text" id="DBImageB64" formControlName="DBImageB64" />
        <input hidden type="checkbox" id="imageChanged" formControlName="imageChanged" />
        <input hidden type="checkbox" id="Featured" formControlName="Featured" />
        <input hidden type="text" id="ImgSrc" formControlName="ImgSrc" />
        <div class="input-group mb-3">
          <button *ngIf="EventValue == 'Update'" (click)=" Update()" type="submit" class="btn btn-primary" [disabled]="!UpcomingForm.valid">Update</button>
          <button *ngIf="EventValue == 'Save'" (click)=" Save()" type="submit" class="btn btn-primary">Save</button>
        </div>
      </div>
      <div class="col-3">
        <div class="row">
          <img src={{imgData}} class="img-thumbnail">
        </div>
        <div class="row">
          <!-- label class="input-group-text" for="inputGroupFile01">Upload</label -->
          <input type="file" class="form-control" id="file" (change)="setFile($event)">
        </div>
      </div>
    </div>

  </form>
</div>


<div>
  <form>
    <div class="container-fluid">
      <div class="spinner-grow text-success" role="status" *ngIf="isLoading">
        <span class="visually-hidden">Loading...</span>
      </div>
      <table class="table table-striped table-hover" aria-labelledby="tableLabel">
        <thead>
          <tr>
            <th scope="col">Brand</th>
            <th scope="col">Name</th>
            <th scope="col">Release Date</th>
            <th scope="col">Price</th>
            <th scope="col">Raffle</th>
            <th scope="col">ID</th>
            <th scope="col" colspan="2">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let d of allPosts; let i = index"
              data-toggle="collapse" [attr.data-target]="'#img' + i" class="accordion-toggle">
            <td>{{d.brand}}</td>
            <td>{{d.name}}</td>
            <td>{{d.releaseDate}}</td>
            <td>{{d.retailPrice}}</td>
            <td>{{d.raffle}}</td>
            <td>{{d.postID}}</td>
            <td><a (click)="EditData(d)" class="btn btn-warning">Edit</a></td>
            <td><a (click)="Delete(d)" class="btn btn-danger">Delete</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </form>
</div>



<div>
  <h2> Upcoming releases! </h2>
  <div class="container-fluid">
    <div class="row row-cols-1 row-cols-md-2 g-4">
      <div *ngFor="let d of allPosts; let i = index" class="col-2">
        <!-- <div class="card" style="width: 18rem;" *ngFor="let d of allPosts; let i = index">-->
        <div class="card text-white bg-secondary mb-3" style="width: 18rem;">
          <img src={{d.dbImageB64}} class="card-img-top" alt={{d.name}}>
          <div class="card-body">
            <h5 class="card-title">{{d.name}}</h5>
            <p class="card-text">Release: {{d.releaseDate}}</p>
            <p class="card-text">Price: {{d.retailPrice}}</p>
            <a (click)="EditData(d)" class="btn btn-warning">Edit</a>
            <a (click)="AddToCollection(d.postID)" class="btn btn-primary">Got Em!</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="card-group">
  <div *ngFor="let d of allPosts; let i = index"
       class="card text-white bg-secondary mb-3" style="width: 18rem;">
    <img src={{d.dbImageB64}} class="card-img-top" alt={{d.name}}>
    <div class="card-body">
      <h5 class="card-title">{{d.name}}</h5>
      <p class="card-text">Release: {{d.releaseDate}}</p>
      <p class="card-text">Price: {{d.retailPrice}}</p>
      <a href="#" class="btn btn-primary">Go somewhere</a>
    </div>
  </div>
</div>
